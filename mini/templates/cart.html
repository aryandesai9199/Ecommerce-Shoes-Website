{% extends 'Main.html' %}
{% block start %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart - detail</title>
</head>
<body>
    <div style="max-width:800px; margin:40px auto; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.08); border-radius:10px; padding:30px;">
    <h2 style="text-align:center; color:#333; margin-bottom:30px;">ðŸ›’ Your Cart</h2>
    {% if cart_items %}
    <table style="width:100%; border-collapse:collapse; font-family:sans-serif;">
        <thead>
            <tr style="background:#f5f5f5;">
                <th style="padding:12px;">Product</th>
                <th style="padding:12px;">Quantity</th>
                <th style="padding:12px;">Price</th>
                <th style="padding:12px;">Total</th>
                <th style="padding:12px;">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for item in cart_items %}
            <tr style="border-bottom:1px solid #f0f0f0;">
                <td style="padding:10px; display:flex; align-items:center; gap:10px;">
                    <img src="{{ item.product.prdImage.url }}" alt="{{ item.product.prdName }}" style="width:40px; height:40px; object-fit:cover; border-radius:5px;">
                    {{ item.product.prdName }}
                </td>
                <td style="padding:10px;">
                    <form method="post" action="{% url 'update_cart' item.product.id %}" style="display:flex; align-items:center; gap:8px;">
                        {% csrf_token %}
                        <input type="number" name="quantity" value="{{ item.quantity }}" min="1" style="width:60px; padding:5px; border-radius:4px; border:1px solid #ccc;">
                        <button type="submit" style="background:#007bff; color:#fff; border:none; border-radius:4px; padding:6px 12px; cursor:pointer;">Update</button>
                    </form>
                </td>
                <td style="padding:10px;">â‚¹{{ item.product.prdPrice }}</td>
                <td style="padding:10px;">â‚¹{{ item.total_price }}</td>
                <td style="padding:10px;">
                    <a href="{% url 'remove_from_cart' item.product.id %}" onclick="return confirm('Remove this item from cart?');" style="color:#dc3545; text-decoration:none; font-weight:bold;">Remove</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h3 style="text-align:right; margin-top:25px; color:#007bff;">Total: â‚¹{{ total_price }}</h3>
    <div style="text-align:right; margin-top:20px;">
        <a href="{% url 'checkout' %}" style="background:#28a745; color:#fff; padding:10px 24px; border-radius:5px; text-decoration:none; font-weight:bold; box-shadow:0 2px 4px rgba(40,167,69,0.08);">Proceed to Checkout</a>
    </div>
    {% else %}
    <p style="text-align:center; color:#888; font-size:18px;">Your cart is empty.</p>
    {% endif %}
</div>

</body>


</body>
</html>

{% endblock %}